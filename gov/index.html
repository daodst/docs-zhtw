
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../bank/">
      
      
        <link rel="next" href="../mint/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.4">
    
    
      
        <title>治理 - DAODST文檔</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.bd3936ea.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="DAODST文檔" class="md-header__button md-logo" aria-label="DAODST文檔" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DAODST文檔
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              治理
            
          </span>
        </div>
      </div>
    </div>
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="Select language">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7 1.62-4.33L19.12 17h-3.24Z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="https://zh-tw.docs.daodst.com" hreflang="zh" class="md-select__link">
              中文
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="https://docs.daodst.com" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../protocol/account/" class="md-tabs__link">
          
  
  🔍協議

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../modules_accounts/" class="md-tabs__link">
          
  
  🧱模塊

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../gateway/run/" class="md-tabs__link">
          
  
  ✈網關和驗證器

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../chat/installation/" class="md-tabs__link">
          
  
  📞聊天

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../faq/" class="md-tabs__link">
        
  
    
  
  📋常見問題

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="DAODST文檔" class="md-nav__button md-logo" aria-label="DAODST文檔" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    DAODST文檔
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="">
            
  
  <span class="md-ellipsis">
    🔍協議
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            🔍協議
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../protocol/account/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    技術架構
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_2" >
        
          
          <label class="md-nav__link" for="__nav_1_2" id="__nav_1_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    命令行界面
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_2">
            <span class="md-nav__icon md-icon"></span>
            命令行界面
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../protocol/stcd/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    安裝
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../protocol/stcd/config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    配置
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../protocol/stcd/single-node/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    單節點
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../protocol/stcd/command/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CLI命令
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../protocol/account/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    帳號
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../protocol/chainid/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    鏈ID
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../protocol/encode/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    編碼
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../protocol/gas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gas和手續費
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../protocol/keyring/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    密鑰環
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../protocol/key-management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    密鑰管理
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../protocol/state-migrate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    狀態導入導出
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../protocol/pending/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    等待隊列
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../protocol/multsign/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    多簽
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../protocol/coin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    代幣
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../protocol/transfer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    交易
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    🧱模塊
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            🧱模塊
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../modules_accounts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    模塊賬號
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../evm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    以太坊虛擬機
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../chat/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    聊天
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../gateway/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    網關
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../contract/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    合約
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../pledge/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    聊天質押
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../auth/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    認證
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../bank/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    銀行
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    治理
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    治理
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    摘要
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    內容
  </a>
  
    <nav class="md-nav" aria-label="內容">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    概念
  </a>
  
    <nav class="md-nav" aria-label="概念">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    提案提交
  </a>
  
    <nav class="md-nav" aria-label="提案提交">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    提交提案的權利
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    提案類型
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    保證金
  </a>
  
    <nav class="md-nav" aria-label="保證金">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    保證金退款和銷毀
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vote" class="md-nav__link">
    Vote
  </a>
  
    <nav class="md-nav" aria-label="Vote">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#participants" class="md-nav__link">
    Participants
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    投票期
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    選項集
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quorum" class="md-nav__link">
    法定人数(Quorum)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    閾值
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    對於未投票的驗證人的懲罰
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    治理地址
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    軟體升級
  </a>
  
    <nav class="md-nav" aria-label="軟體升級">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    訊號
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    切換
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    狀態
  </a>
  
    <nav class="md-nav" aria-label="狀態">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    參數和基本類型
  </a>
  
    <nav class="md-nav" aria-label="參數和基本類型">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    保證金參數
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    投票參數
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    統計參數
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    存款
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    驗證器治理資訊
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proposals" class="md-nav__link">
    Proposals
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_25" class="md-nav__link">
    存儲
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_26" class="md-nav__link">
    提案處理隊列
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_27" class="md-nav__link">
    消息
  </a>
  
    <nav class="md-nav" aria-label="消息">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_28" class="md-nav__link">
    提案提交
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_29" class="md-nav__link">
    投票
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_30" class="md-nav__link">
    事件
  </a>
  
    <nav class="md-nav" aria-label="事件">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#endblocker" class="md-nav__link">
    EndBlocker
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#handlers" class="md-nav__link">
    Handlers
  </a>
  
    <nav class="md-nav" aria-label="Handlers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#msgsubmitproposal" class="md-nav__link">
    MsgSubmitProposal
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#msgvote" class="md-nav__link">
    MsgVote
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#msgdeposit" class="md-nav__link">
    MsgDeposit
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters" class="md-nav__link">
    Parameters
  </a>
  
    <nav class="md-nav" aria-label="Parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#subkeys" class="md-nav__link">
    SubKeys
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_31" class="md-nav__link">
    客戶端
  </a>
  
    <nav class="md-nav" aria-label="客戶端">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cli" class="md-nav__link">
    CLI
  </a>
  
    <nav class="md-nav" aria-label="CLI">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_32" class="md-nav__link">
    查詢
  </a>
  
    <nav class="md-nav" aria-label="查詢">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deposit" class="md-nav__link">
    deposit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deposits" class="md-nav__link">
    deposits
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#param" class="md-nav__link">
    param
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#params" class="md-nav__link">
    params
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proposal" class="md-nav__link">
    proposal
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proposals_1" class="md-nav__link">
    proposals
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proposer" class="md-nav__link">
    proposer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tally" class="md-nav__link">
    tally
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vote_1" class="md-nav__link">
    vote
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#votes" class="md-nav__link">
    votes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_33" class="md-nav__link">
    交易
  </a>
  
    <nav class="md-nav" aria-label="交易">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deposit_1" class="md-nav__link">
    deposit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#submit-proposal" class="md-nav__link">
    submit-proposal
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vote_2" class="md-nav__link">
    vote
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#grpc" class="md-nav__link">
    gRPC
  </a>
  
    <nav class="md-nav" aria-label="gRPC">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#proposal_1" class="md-nav__link">
    Proposal
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proposals_2" class="md-nav__link">
    Proposals
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vote_3" class="md-nav__link">
    Vote
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#votes_1" class="md-nav__link">
    Votes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#params_1" class="md-nav__link">
    Params
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deposit_2" class="md-nav__link">
    Deposit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deposits_1" class="md-nav__link">
    deposits
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tallyresult" class="md-nav__link">
    TallyResult
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest" class="md-nav__link">
    REST
  </a>
  
    <nav class="md-nav" aria-label="REST">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#proposal_2" class="md-nav__link">
    proposal
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proposals_3" class="md-nav__link">
    proposals
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#voter-vote" class="md-nav__link">
    voter vote
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#votes_2" class="md-nav__link">
    votes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#params_2" class="md-nav__link">
    params
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deposits_2" class="md-nav__link">
    deposits
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proposal-deposits" class="md-nav__link">
    proposal deposits
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tally_1" class="md-nav__link">
    tally
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../mint/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    鑄造
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../distribute/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    分配
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../slashing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    削減
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../staking/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DPOS質押
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    ✈網關和驗證器
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            ✈網關和驗證器
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    設置和配寘
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            設置和配寘
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../gateway/run/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    運行驗證器
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../gateway/config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    配寘
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../gateway/disk-usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    硬碟使用優化
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../gateway/state-sync/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    狀態同步
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../gateway/mempool/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    記憶體池
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../gateway/faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    常見問題
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../gateway/security/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    安全
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    陞級
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            陞級
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../upgrade/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    概述
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../upgrade/list/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    升級清單
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../upgrade/hard-fork/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    硬分叉升級
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../upgrade/auto/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    自動升級
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../upgrade/manual/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    手動升級
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../upgrade/rollback/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    回滾
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../upgrade/template/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    提案模板
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../gateway/testnet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    測試網
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../gateway/mainnet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    主網
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    網關操作指南
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            網關操作指南
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../gateway/guide-linux/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    操作指南(linux)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../gateway/guide-win/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    操作指南(win)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../gateway/key-backup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    金鑰備份和恢復
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ttts/ttts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    翻译和文本转语音服务
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    📞聊天
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            📞聊天
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../chat/installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    安裝啟動
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../chat/chat_doc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    文檔
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../chat/client_server/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    客戶端-服務端API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../chat/server_server/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    服務端-服務端API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../chat/customise_doc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    定制
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../chat/voip_signaling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    呼叫流程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../chat/optional_cfg/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    可選配置*
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../chat/faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    常見問題
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    📋常見問題
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    摘要
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    內容
  </a>
  
    <nav class="md-nav" aria-label="內容">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    概念
  </a>
  
    <nav class="md-nav" aria-label="概念">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    提案提交
  </a>
  
    <nav class="md-nav" aria-label="提案提交">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    提交提案的權利
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    提案類型
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    保證金
  </a>
  
    <nav class="md-nav" aria-label="保證金">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    保證金退款和銷毀
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vote" class="md-nav__link">
    Vote
  </a>
  
    <nav class="md-nav" aria-label="Vote">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#participants" class="md-nav__link">
    Participants
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    投票期
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    選項集
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quorum" class="md-nav__link">
    法定人数(Quorum)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    閾值
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    對於未投票的驗證人的懲罰
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    治理地址
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    軟體升級
  </a>
  
    <nav class="md-nav" aria-label="軟體升級">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    訊號
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    切換
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    狀態
  </a>
  
    <nav class="md-nav" aria-label="狀態">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    參數和基本類型
  </a>
  
    <nav class="md-nav" aria-label="參數和基本類型">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    保證金參數
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    投票參數
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    統計參數
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    存款
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    驗證器治理資訊
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proposals" class="md-nav__link">
    Proposals
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_25" class="md-nav__link">
    存儲
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_26" class="md-nav__link">
    提案處理隊列
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_27" class="md-nav__link">
    消息
  </a>
  
    <nav class="md-nav" aria-label="消息">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_28" class="md-nav__link">
    提案提交
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_29" class="md-nav__link">
    投票
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_30" class="md-nav__link">
    事件
  </a>
  
    <nav class="md-nav" aria-label="事件">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#endblocker" class="md-nav__link">
    EndBlocker
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#handlers" class="md-nav__link">
    Handlers
  </a>
  
    <nav class="md-nav" aria-label="Handlers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#msgsubmitproposal" class="md-nav__link">
    MsgSubmitProposal
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#msgvote" class="md-nav__link">
    MsgVote
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#msgdeposit" class="md-nav__link">
    MsgDeposit
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters" class="md-nav__link">
    Parameters
  </a>
  
    <nav class="md-nav" aria-label="Parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#subkeys" class="md-nav__link">
    SubKeys
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_31" class="md-nav__link">
    客戶端
  </a>
  
    <nav class="md-nav" aria-label="客戶端">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cli" class="md-nav__link">
    CLI
  </a>
  
    <nav class="md-nav" aria-label="CLI">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_32" class="md-nav__link">
    查詢
  </a>
  
    <nav class="md-nav" aria-label="查詢">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deposit" class="md-nav__link">
    deposit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deposits" class="md-nav__link">
    deposits
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#param" class="md-nav__link">
    param
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#params" class="md-nav__link">
    params
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proposal" class="md-nav__link">
    proposal
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proposals_1" class="md-nav__link">
    proposals
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proposer" class="md-nav__link">
    proposer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tally" class="md-nav__link">
    tally
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vote_1" class="md-nav__link">
    vote
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#votes" class="md-nav__link">
    votes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_33" class="md-nav__link">
    交易
  </a>
  
    <nav class="md-nav" aria-label="交易">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deposit_1" class="md-nav__link">
    deposit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#submit-proposal" class="md-nav__link">
    submit-proposal
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vote_2" class="md-nav__link">
    vote
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#grpc" class="md-nav__link">
    gRPC
  </a>
  
    <nav class="md-nav" aria-label="gRPC">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#proposal_1" class="md-nav__link">
    Proposal
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proposals_2" class="md-nav__link">
    Proposals
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vote_3" class="md-nav__link">
    Vote
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#votes_1" class="md-nav__link">
    Votes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#params_1" class="md-nav__link">
    Params
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deposit_2" class="md-nav__link">
    Deposit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deposits_1" class="md-nav__link">
    deposits
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tallyresult" class="md-nav__link">
    TallyResult
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest" class="md-nav__link">
    REST
  </a>
  
    <nav class="md-nav" aria-label="REST">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#proposal_2" class="md-nav__link">
    proposal
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proposals_3" class="md-nav__link">
    proposals
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#voter-vote" class="md-nav__link">
    voter vote
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#votes_2" class="md-nav__link">
    votes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#params_2" class="md-nav__link">
    params
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deposits_2" class="md-nav__link">
    deposits
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proposal-deposits" class="md-nav__link">
    proposal deposits
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tally_1" class="md-nav__link">
    tally
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<!--
order: 0
title: Gov Overview
parent:
  title: "gov"
-->

<h1 id="_1"><code>治理</code></h1>
<h2 id="_2">摘要</h2>
<p>本文明确了治理模块。</p>
<p>該模組使基於 Cosmos-SDK 的區塊鏈能夠支持鏈上治理系統。
在此系統中，鏈的原生抵押代幣持有者可以按照 1 代幣 1 票的基礎進行投票。
接下來是該模組目前支持的功能列表：</p>
<ul>
<li><strong>提案提交:</strong> 用戶可以提交帶有押金的提案。一旦達到最低押金，提案便進入投票期。</li>
<li><strong>投票:</strong> 參與者可以對達到 MinDeposit 的提案進行投票。</li>
<li><strong>繼承和懲罰:</strong> 如果代表人自己不投票，他們將繼承其驗證者的投票。</li>
<li><strong>申領押金:</strong> 如果提案被接受或提案從未進入投票期，押金支付的用戶可以收回他們的押金。</li>
</ul>
<h2 id="_3">內容</h2>
<h3 id="_4">概念</h3>
<p><em>免責聲明：這是一個進行中的工作。機制可能會發生變化。</em></p>
<p>治理過程可分為以下幾個步驟：</p>
<ul>
<li><strong>提案提交:</strong> 向區塊鏈提交提案時，需要附上一定數量的押金。</li>
<li><strong>投票:</strong> 一旦押金達到一定的數值（MinDeposit），提案就會得到確認，投票便會開始。綁定Atom持有者隨後可以發送TxGovVote交易來對提案進行投票。</li>
<li>如果提案涉及軟體升級：</li>
<li><strong>信號:</strong> 驗證者開始發出信號，表示他們已準備好切換到新版本。</li>
<li><strong>切換:</strong> 一旦超過75%的驗證者發出信號表示他們已準備好切換，他們的軟件將自動切換到新版本。</li>
</ul>
<h4 id="_5">提案提交</h4>
<h5 id="_6">提交提案的權利</h5>
<p>任何 Dst 持有者，無論是綁定還是未綁定，都可以通過發送一個 TxGovProposal 交易來提交提案。
一旦提交提案，它將由其唯一的 proposalID 進行識別。</p>
<h5 id="_7">提案類型</h5>
<p>在治理模組的初始版本中，有五種類型的提案：</p>
<ul>
<li><code>TextProposal(文本提案)</code> 所有不涉及源代碼修改的提案都屬於此類型。
  例如，意見調查將使用類型為TextProposal的提案。
  這種提案主要用於在社區中徵求意見、進行討論或建議，對區塊鏈網絡本身沒有直接影響。
  通過這種方式，社區成員可以參與決策過程，分享他們的觀點和想法。</li>
<li><code>SoftwareUpgradeProposal(軟件升級提案)</code>. 若提案被接受，驗證者需按照提案的要求更新他們的軟件。</li>
<li><code>CommunityPoolSpendProposal(社區基金提案 )</code> 社區基金提案（Community Pool Proposal）詳細說明了如何使用社區基金，
  包括建議使用多少代幣以及接收方賬戶。</li>
<li><code>ParameterChangeProposal(參數更改提案)</code> 定義更改一個或多個參數的提案。
  如果被接受，在投票期結束後，提案處理器將自動更新所要求的參數更改。</li>
</ul>
<p>其他模塊可以通過實現自己的提案類型和處理器來擴展治理模塊。
這些類型通過治理模塊（例如ParamChangeProposal）進行註冊和處理，
然後在提案通過時執行相應模塊的提案處理器。
這個自定義處理器可以執行任意狀態更改。</p>
<h4 id="_8">保證金</h4>
<p>為了防止垃圾訊息，提案必須在MinDeposit參數中定義的貨幣中提交保證金。只有當提案的保證金等於MinDeposit時，投票期才會開始。</p>
<p>提交提案時，必須附帶一個保證金，該保證金必須是正數，但可以小於MinDeposit。提交者不需要自己支付全部保證金。如果提案的保證金小於MinDeposit，其他代幣持有者可以通過發送Deposit交易來增加提案的保證金。保證金將被存放在治理ModuleAccount的託管中，直到提案最終確定（通過或拒絕）。</p>
<p>一旦提案的保證金達到MinDeposit，它將進入投票期。如果提案的保證金在MaxDepositPeriod之前未達到MinDeposit，提案將關閉，任何人都不能再向其存款。</p>
<h5 id="_9">保證金退款和銷毀</h5>
<p>當提案最終確定時，保證金中的代幣將根據提案的最終結果進行退款或銷毀：</p>
<ul>
<li>如果提案被批准，或者被拒絕但未被否決，保證金將自動退還給各自的存款人（從治理ModuleAccount轉移）。這意味著只要提案得到處理並且未被否決，參與者就不會失去他們的保證金，從而鼓勵用戶積極參與治理過程。</li>
<li>當提案以超級多數票被否決時，保證金將從治理ModuleAccount中被銷毀。</li>
</ul>
<h4 id="vote">Vote</h4>
<h5 id="participants">Participants</h5>
<p><em>參與者</em> 是指在區塊鏈治理過程中有權對提案進行投票的用戶。
參與者是綁定的Dst持有者。
未綁定的Dst持有者和其他用戶無權參與治理。
然而，他們可以提交和為提案付保證金。</p>
<p>請注意，在以下情況下，某些“參與者”可能被禁止在特定驗證者下對提案進行投票：</p>
<ul>
<li>當提案進入投票期後，參與者將Dst綁定或解綁到該驗證者。</li>
<li>在提案進入投票期後，參與者成為了驗證者。</li>
</ul>
<p>這並不妨礙“參與者”將Dst綁定到其他驗證者並進行投票。
例如，如果一個“參與者”在提案進入投票期之前將一些Atoms綁定到驗證者A，而在提案進入投票期之後將其他Dst綁定到驗證者B，那麼只有在驗證者B下的投票會被禁止。</p>
<h5 id="_10">投票期</h5>
<p>一旦提案達到MinDeposit（最小保證金），它將立即進入Voting period（投票期）。
我們將投票期定義為投票開始和投票結束之間的時間間隔。
投票期應始終短於Unbonding period（解綁期），以防止雙重投票。投票期的初始值為2周。</p>
<h5 id="_11">選項集</h5>
<p>提案的選項集指的是參與者在投票時可以選擇的一組選項。</p>
<p>初始選項集包括以下選項：</p>
<ul>
<li><code>Yes</code></li>
<li><code>No</code></li>
<li><code>NoWithVeto</code></li>
<li><code>Abstain</code></li>
</ul>
<p><code>NoWithVeto</code> （否決）被算作<code>No</code> （反對），但同時也增加了一個<code>Veto</code> （否決）票。<code>Abstain</code>（棄權）選項允許投票者表示他們無意支持或反對該提案，但接受投票結果。</p>
<p><em>注意：對於緊急提案，我們或許應該在使用者介面中添加一個“非緊急”選項，該選項將投下一個<code>NoWithVeto</code>（否決）票。
這樣做的目的是讓投票者能夠明確表示他們認為該提案並不緊急，應該將其否決。這將有助於區分那些真正緊急的提案與不緊急的提案，從而使治理過程更加有效。</em></p>
<h5 id="quorum">法定人数(Quorum)</h5>
<p>法定人數（Quorum）定義為在提案結果有效的情況下，需要投下的最低投票權重百分比。
在區塊鏈治理中，法定人數確保了足夠多的投票者參與投票過程，從而使提案的結果具有代表性並確保治理決策的合法性。
如果未達到法定人數要求，那麼提案將被認為是無效的，無論其投票結果如何。</p>
<h5 id="_12">閾值</h5>
<p>閾值定義為提案被接受所需的最低<code>Yes</code>（贊成）票比例（不包括<code>Abstain</code>（棄權）票）。</p>
<p>最初，閾值設定為 50%，如果超過 1/3 的投票（不包括 <code>Abstain</code>（棄權）票）是 <code>NoWithVeto</code>（否決）票，則有否決的可能性。
這意味著在投票期結束時，如果 <code>Yes</code>（贊成）票的比例（不包括 <code>Abstain</code>（棄權）票）超過 50%，並且 <code>NoWithVeto</code>（否決）票的比例低於 1/3（不包括 <code>Abstain</code>（棄權）票），則提案被接受。</p>
<h5 id="_13">對於未投票的驗證人的懲罰</h5>
<p>目前，验证人未投票不会受到惩罚。</p>
<h5 id="_14">治理地址</h5>
<p>稍後，我們可能會添加有權限的密鑰，這些密鑰只能從某些模塊簽名交易。
對於MVP（最小可行產品），治理地址將是在帳戶創建時生成的主驗證人地址。
此地址對應的私鑰（PrivKey）與負責簽名共識消息的Tendermint私鑰不同。
因此，驗證人無需使用敏感的Tendermint私鑰簽署治理交易。</p>
<p>通過這種方式，驗證人可以保護其關鍵的Tendermint私鑰，同時使用不同的私鑰進行治理活動。
這有助於提高區塊鏈網絡的安全性，確保驗證人在參與治理活動時不會將Tendermint私鑰暴露給潛在的攻擊者。</p>
<h4 id="_15">軟體升級</h4>
<p>如果提案属于SoftwareUpgradeProposal类型，那么节点需要将其软件升级到经过投票的新版本。这个过程分为两个步骤。</p>
<h5 id="_16">訊號</h5>
<p>在 SoftwareUpgradeProposal 被接受后，验证者预计会在继续运行之前的版本的同时下载并安装新版本的软件。一旦验证者下载并安装了升级，它将通过在其 <code>precommits</code> 中包含提案的 proposalID 向网络发出信号，表明它已准备好切换。（注意：我们需要确认是否希望将其包含在 <code>precommit</code> 中？）</p>
<p>注意：每个 <em>precommit</em> 只有一个信号插槽。如果在短时间内接受了多个 <code>SoftwareUpgradeProposals</code>，那么将形成一个流水线，它们将按照被接受的顺序依次实施</p>
<h5 id="_17">切換</h5>
<p>當一個塊包含超過2/3的 precommits，其中一個常見的SoftwareUpgradeProposal被發出信號，
所有節點（包括驗證器節點、非驗證完整節點和輕節點）都應該切換到軟件的新版本。</p>
<p><em>注意：不清楚如何在程式中處理翻轉操作。</em></p>
<h3 id="_18">狀態</h3>
<h4 id="_19">參數和基本類型</h4>
<p>參數 定義了運行投票的規則。在任何給定時間，只能有一個活動參數集。
如果治理希望更改參數集，無論是修改值還是添加/刪除參數字段，都必須創建一個新的參數集，並使先前的參數集無效。</p>
<h5 id="_20">保證金參數</h5>
<p>+++ https://github.com/cosmos/cosmos-sdk/blob/v0.40.0/proto/cosmos/gov/v1beta1/gov.proto#L127-L145</p>
<h5 id="_21">投票參數</h5>
<p>+++ https://github.com/cosmos/cosmos-sdk/blob/v0.40.0/proto/cosmos/gov/v1beta1/gov.proto#L147-L156</p>
<h5 id="_22">統計參數</h5>
<p>+++ https://github.com/cosmos/cosmos-sdk/blob/v0.40.0/proto/cosmos/gov/v1beta1/gov.proto#L158-L183</p>
<p>參數存儲在全局的 <code>GlobalParams</code> KVStore 中。</p>
<p>此外，我們引入了一些基本類型：</p>
<pre><code class="language-go">type Vote byte

const (
    VoteYes         = 0x1
    VoteNo          = 0x2
    VoteNoWithVeto  = 0x3
    VoteAbstain     = 0x4
)

type ProposalType  string

const (
    ProposalTypePlainText       = &quot;Text&quot;
    ProposalTypeSoftwareUpgrade = &quot;SoftwareUpgrade&quot;
)

type ProposalStatus byte


const (
    StatusNil           ProposalStatus = 0x00
    StatusDepositPeriod ProposalStatus = 0x01  // Proposal is submitted. Participants can deposit on it but not vote
    StatusVotingPeriod  ProposalStatus = 0x02  // MinDeposit is reached, participants can vote
    StatusPassed        ProposalStatus = 0x03  // Proposal passed and successfully executed
    StatusRejected      ProposalStatus = 0x04  // Proposal has been rejected
    StatusFailed        ProposalStatus = 0x05  // Proposal passed but failed execution
)
</code></pre>
<h4 id="_23">存款</h4>
<p>+++ https://github.com/cosmos/cosmos-sdk/blob/v0.40.0/proto/cosmos/gov/v1beta1/gov.proto#L43-L53</p>
<h4 id="_24">驗證器治理資訊</h4>
<p>This type is used in a temp map when tallying</p>
<pre><code class="language-go">  type ValidatorGovInfo struct {
    Minus     sdk.Dec
    Vote      Vote
  }
</code></pre>
<h4 id="proposals">Proposals</h4>
<p>Proposal對象用於記錄投票和跟踪提案的狀態。它們包含Content，表示此提案的主題，以及其他字段，這些字段是治理過程的可變狀態。</p>
<p>+++ https://github.com/cosmos/cosmos-sdk/blob/v0.40.0/proto/cosmos/gov/v1beta1/gov.proto#L55-L77</p>
<pre><code class="language-go">type Content interface {
    GetTitle() string
    GetDescription() string
    ProposalRoute() string
    ProposalType() string
    ValidateBasic() sdk.Error
    String() string
}
</code></pre>
<p>提案中的<code>Content</code>是一個接口，其中包含有關<code>Proposal</code>的信息，例如標題、描述和任何顯著變化。
此外，該<code>Content</code>類型可以由任何模塊實現。
<code>Content</code>的<code>ProposalRoute</code>返回一個字符串，該字符串必須用於在治理保管器中路由<code>Content</code>的<code>Handler</code>。
這允許治理保管器執行由任何模塊實現的提案邏輯。
如果提案通過，則執行處理程序。
只有在處理程序成功執行後，狀態才會被持久化，提案才最終通過。
否則，提案將被拒絕。</p>
<pre><code class="language-go">type Handler func(ctx sdk.Context, content Content) sdk.Error
</code></pre>
<p><code>Handler</code>負責實際執行提案並處理提案指定的任何狀態變更。只有在EndBlock期間提案通過時，才會執行它。</p>
<p>我們還提到了一種更新給定提案的統計數字的方法：</p>
<pre><code class="language-go">  func (proposal Proposal) updateTally(vote byte, amount sdk.Dec)
</code></pre>
<h4 id="_25">存儲</h4>
<p><em>存儲庫是多存儲系統中的KVStores。查找存儲庫的鍵是列表中的第一個參數。</em>`</p>
<p>我們將使用一個KVStore Governance來存儲兩個映射：</p>
<ul>
<li>從 <code>proposalID|'proposal'</code> 到 <code>Proposal</code> 的映射.</li>
<li>從 <code>proposalID|'addresses'|address</code> 到 `Vote1 的映射。這個映射允許我們通過對 1proposalID:addresses1 進行範圍查詢，查詢對提案進行投票的所有地址以及它們的投票。</li>
</ul>
<p>為了方便閱讀偽代碼，以下是我們用來在存儲庫中讀取或寫入的兩個函數：</p>
<ul>
<li><code>load(StoreKey, Key)</code>: 在多存儲系統中，在鍵 Key 下檢索存儲的項目。</li>
<li><code>store(StoreKey, Key, value)</code>: 在多存儲系統中，在鍵 Key 下寫入值 Value。</li>
</ul>
<h4 id="_26">提案處理隊列</h4>
<p><strong>存儲:</strong></p>
<ul>
<li><code>提案處理隊列</code>: 一個包含所有達到 <code>MinDeposit</code> 的提案的 提案id 的隊列 <code>queue[proposalID]</code>。在每個 EndBlock 期間，所有已結束投票期的提案都將被處理。</li>
</ul>
<p>為了處理完成的提案，應用程序對投票進行統計，計算每個驗證者的投票，並檢查驗證者集合中的每個驗證者是否都已投票。如果提案被接受，存款將被退還。最後，執行提案內容 <code>Handler</code>。</p>
<p>在這個過程中，<code>queue[proposalID]</code> 隊列將確保按照適當的順序處理各個提案，並根據投票結果決定提案的執行與否。這有助於實現對區塊鏈網絡治理的公平和有序操作。</p>
<p>以下是 <code>ProposalProcessingQueue</code> 的偽代碼：</p>
<pre><code class="language-go">  in EndBlock do

    for finishedProposalID in GetAllFinishedProposalIDs(block.Time)
      proposal = load(Governance, &lt;proposalID|'proposal'&gt;) // proposal is a const key

      validators = Keeper.getAllValidators()
      tmpValMap := map(sdk.AccAddress)ValidatorGovInfo

      // Initiate mapping at 0. This is the amount of shares of the validator's vote that will be overridden by their delegator's votes
      for each validator in validators
        tmpValMap(validator.OperatorAddr).Minus = 0

      // Tally
      voterIterator = rangeQuery(Governance, &lt;proposalID|'addresses'&gt;) //return all the addresses that voted on the proposal
      for each (voterAddress, vote) in voterIterator
        delegations = stakingKeeper.getDelegations(voterAddress) // get all delegations for current voter

        for each delegation in delegations
          // make sure delegation.Shares does NOT include shares being unbonded
          tmpValMap(delegation.ValidatorAddr).Minus += delegation.Shares
          proposal.updateTally(vote, delegation.Shares)

        _, isVal = stakingKeeper.getValidator(voterAddress)
        if (isVal)
          tmpValMap(voterAddress).Vote = vote

      tallyingParam = load(GlobalParams, 'TallyingParam')

      // Update tally if validator voted they voted
      for each validator in validators
        if tmpValMap(validator).HasVoted
          proposal.updateTally(tmpValMap(validator).Vote, (validator.TotalShares - tmpValMap(validator).Minus))



      // Check if proposal is accepted or rejected
      totalNonAbstain := proposal.YesVotes + proposal.NoVotes + proposal.NoWithVetoVotes
      if (proposal.Votes.YesVotes/totalNonAbstain &gt; tallyingParam.Threshold AND proposal.Votes.NoWithVetoVotes/totalNonAbstain  &lt; tallyingParam.Veto)
        //  proposal was accepted at the end of the voting period
        //  refund deposits (non-voters already punished)
        for each (amount, depositor) in proposal.Deposits
          depositor.AtomBalance += amount

        stateWriter, err := proposal.Handler()
        if err != nil
            // proposal passed but failed during state execution
            proposal.CurrentStatus = ProposalStatusFailed
         else
            // proposal pass and state is persisted
            proposal.CurrentStatus = ProposalStatusAccepted
            stateWriter.save()
      else
        // proposal was rejected
        proposal.CurrentStatus = ProposalStatusRejected

      store(Governance, &lt;proposalID|'proposal'&gt;, proposal)
</code></pre>
<h3 id="_27">消息</h3>
<h4 id="_28">提案提交</h4>
<p>提案可以由任何帳戶通過 MsgSubmitProposal 交易提交。</p>
<p>+++ https://github.com/cosmos/cosmos-sdk/blob/v0.40.0/proto/cosmos/gov/v1beta1/tx.proto#L24-L39</p>
<p><code>MsgSubmitProposal</code> 消息的 <code>Content</code> 必須在治理模塊中設置一個適當的路由。</p>
<p><strong>狀態修改:</strong></p>
<ul>
<li>生成新的 <code>proposalID</code></li>
<li>創建新的 <code>Proposal</code>:</li>
<li>初始化 <code>Proposals</code> 屬性：</li>
<li>將發送者的餘額減少 <code>InitialDeposit</code>。</li>
<li>如果達到 <code>Deposit</code>：</li>
<li>在 <code>ProposalProcessingQueue</code> 中加入 <code>proposalID</code>。</li>
<li>將 <code>InitialDeposit</code> 從 <code>Proposer</code> 轉移到治理 <code>M</code>oduleAccount`。</li>
</ul>
<p>根據以下偽代碼，可以處理 MsgSubmitProposal 交易。</p>
<pre><code class="language-go">// PSEUDOCODE //
// Check if MsgSubmitProposal is valid. If it is, create proposal //

upon receiving txGovSubmitProposal from sender do

  if !correctlyFormatted(txGovSubmitProposal)
    // check if proposal is correctly formatted. Includes fee payment.
    throw

  initialDeposit = txGovSubmitProposal.InitialDeposit
  if (initialDeposit.Atoms &lt;= 0) OR (sender.AtomBalance &lt; initialDeposit.Atoms)
    // InitialDeposit is negative or null OR sender has insufficient funds
    throw

  if (txGovSubmitProposal.Type != ProposalTypePlainText) OR (txGovSubmitProposal.Type != ProposalTypeSoftwareUpgrade)

  sender.AtomBalance -= initialDeposit.Atoms

  depositParam = load(GlobalParams, 'DepositParam')

  proposalID = generate new proposalID
  proposal = NewProposal()

  proposal.Title = txGovSubmitProposal.Title
  proposal.Description = txGovSubmitProposal.Description
  proposal.Type = txGovSubmitProposal.Type
  proposal.TotalDeposit = initialDeposit
  proposal.SubmitTime = &lt;CurrentTime&gt;
  proposal.DepositEndTime = &lt;CurrentTime&gt;.Add(depositParam.MaxDepositPeriod)
  proposal.Deposits.append({initialDeposit, sender})
  proposal.Submitter = sender
  proposal.YesVotes = 0
  proposal.NoVotes = 0
  proposal.NoWithVetoVotes = 0
  proposal.AbstainVotes = 0
  proposal.CurrentStatus = ProposalStatusOpen

  store(Proposals, &lt;proposalID|'proposal'&gt;, proposal) // Store proposal in Proposals mapping
  return proposalID
</code></pre>
<h4 id="_29">投票</h4>
<p>一旦達到 ActiveParam.MinDeposit，投票期就開始了。從那時起，綁定的 Dst 持有者可以發送 MsgVote 交易，對提案投票。</p>
<p>+++ https://github.com/cosmos/cosmos-sdk/blob/v0.40.0/proto/cosmos/gov/v1beta1/tx.proto#L46-L56</p>
<p><strong>狀態修改：</strong></p>
<ul>
<li>記錄發送者的 <code>Vote</code></li>
</ul>
<p><em>注意：此消息的 Gas 成本必须考虑到 EndBlocker 中未来的投票统计。</em></p>
<p>接下來是處理 MsgVote 交易的偽代碼概述：</p>
<pre><code class="language-go">  // PSEUDOCODE //
  // Check if MsgVote is valid. If it is, count vote//

  upon receiving txGovVote from sender do
    // check if proposal is correctly formatted. Includes fee payment.

    if !correctlyFormatted(txGovDeposit)
      throw

    proposal = load(Proposals, &lt;txGovDeposit.ProposalID|'proposal'&gt;)

    if (proposal == nil)
      // There is no proposal for this proposalID
      throw


    if  (proposal.CurrentStatus == ProposalStatusActive)


        // Sender can vote if
        // Proposal is active
        // Sender has some bonds

        store(Governance, &lt;txGovVote.ProposalID|'addresses'|sender&gt;, txGovVote.Vote)   // Voters can vote multiple times. Re-voting overrides previous vote. This is ok because tallying is done once at the end.
</code></pre>
<h3 id="_30">事件</h3>
<p>治理模組發出以下事件：</p>
<h4 id="endblocker">EndBlocker</h4>
<table>
<thead>
<tr>
<th>Type</th>
<th>Attribute Key</th>
<th>Attribute Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>inactive_proposal</td>
<td>proposal_id</td>
<td>{proposalID}</td>
</tr>
<tr>
<td>inactive_proposal</td>
<td>proposal_result</td>
<td>{proposalResult}</td>
</tr>
<tr>
<td>active_proposal</td>
<td>proposal_id</td>
<td>{proposalID}</td>
</tr>
<tr>
<td>active_proposal</td>
<td>proposal_result</td>
<td>{proposalResult}</td>
</tr>
</tbody>
</table>
<h4 id="handlers">Handlers</h4>
<h5 id="msgsubmitproposal">MsgSubmitProposal</h5>
<table>
<thead>
<tr>
<th>Type</th>
<th>Attribute Key</th>
<th>Attribute Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>submit_proposal</td>
<td>proposal_id</td>
<td>{proposalID}</td>
</tr>
<tr>
<td>submit_proposal [0]</td>
<td>voting_period_start</td>
<td>{proposalID}</td>
</tr>
<tr>
<td>proposal_deposit</td>
<td>amount</td>
<td>{depositAmount}</td>
</tr>
<tr>
<td>proposal_deposit</td>
<td>proposal_id</td>
<td>{proposalID}</td>
</tr>
<tr>
<td>message</td>
<td>module</td>
<td>governance</td>
</tr>
<tr>
<td>message</td>
<td>action</td>
<td>submit_proposal</td>
</tr>
<tr>
<td>message</td>
<td>sender</td>
<td>{senderAddress}</td>
</tr>
</tbody>
</table>
<ul>
<li>[0] Event only emitted if the voting period starts during the submission.</li>
</ul>
<h5 id="msgvote">MsgVote</h5>
<table>
<thead>
<tr>
<th>Type</th>
<th>Attribute Key</th>
<th>Attribute Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>proposal_vote</td>
<td>option</td>
<td>{voteOption}</td>
</tr>
<tr>
<td>proposal_vote</td>
<td>proposal_id</td>
<td>{proposalID}</td>
</tr>
<tr>
<td>message</td>
<td>module</td>
<td>governance</td>
</tr>
<tr>
<td>message</td>
<td>action</td>
<td>vote</td>
</tr>
<tr>
<td>message</td>
<td>sender</td>
<td>{senderAddress}</td>
</tr>
</tbody>
</table>
<h5 id="msgdeposit">MsgDeposit</h5>
<table>
<thead>
<tr>
<th>Type</th>
<th>Attribute Key</th>
<th>Attribute Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>proposal_deposit</td>
<td>amount</td>
<td>{depositAmount}</td>
</tr>
<tr>
<td>proposal_deposit</td>
<td>proposal_id</td>
<td>{proposalID}</td>
</tr>
<tr>
<td>proposal_deposit [0]</td>
<td>voting_period_start</td>
<td>{proposalID}</td>
</tr>
<tr>
<td>message</td>
<td>module</td>
<td>governance</td>
</tr>
<tr>
<td>message</td>
<td>action</td>
<td>deposit</td>
</tr>
<tr>
<td>message</td>
<td>sender</td>
<td>{senderAddress}</td>
</tr>
</tbody>
</table>
<ul>
<li>[0] 如果投票期在提交期間開始，則僅發出事件。</li>
</ul>
<h3 id="parameters">Parameters</h3>
<p>治理模組包含以下參數：</p>
<table>
<thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>depositparams</td>
<td>object</td>
<td>{"min_deposit":[{"denom":"uatom","amount":"10000000"}],"max_deposit_period":"172800000000000"}</td>
</tr>
<tr>
<td>votingparams</td>
<td>object</td>
<td>{"voting_period":"172800000000000"}</td>
</tr>
<tr>
<td>tallyparams</td>
<td>object</td>
<td>{"quorum":"0.334000000000000000","threshold":"0.500000000000000000","veto":"0.334000000000000000"}</td>
</tr>
</tbody>
</table>
<h4 id="subkeys">SubKeys</h4>
<table>
<thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>min_deposit</td>
<td>array (coins)</td>
<td>[{"denom":"uatom","amount":"10000000"}]</td>
</tr>
<tr>
<td>max_deposit_period</td>
<td>string (time ns)</td>
<td>"172800000000000"</td>
</tr>
<tr>
<td>voting_period</td>
<td>string (time ns)</td>
<td>"172800000000000"</td>
</tr>
<tr>
<td>quorum</td>
<td>string (dec)</td>
<td>"0.334000000000000000"</td>
</tr>
<tr>
<td>threshold</td>
<td>string (dec)</td>
<td>"0.500000000000000000"</td>
</tr>
<tr>
<td>veto</td>
<td>string (dec)</td>
<td>"0.334000000000000000"</td>
</tr>
</tbody>
</table>
<p><strong>注意</strong>: 治理模組包含與其他模組不同的對象類型參數。如果只希望更改一部分參數，則只需包含它們，而不是整個參數對象結構。</p>
<h3 id="_31">客戶端</h3>
<h4 id="cli">CLI</h4>
<p>使用者可以使用CLI查詢和與gov模組互動。</p>
<h5 id="_32">查詢</h5>
<p>查詢命令允許用戶查詢gov狀態。</p>
<pre><code class="language-bash">stcd query gov --help
</code></pre>
<h6 id="deposit">deposit</h6>
<p>The <code>deposit</code> command allows users to query a deposit for a given proposal from a given depositor.</p>
<pre><code class="language-bash">stcd query gov deposit [proposal-id] [depositer-addr] [flags]
</code></pre>
<p>範例:</p>
<pre><code class="language-bash">stcd query gov deposit 1 cosmos1..
</code></pre>
<p>範例輸出:</p>
<pre><code class="language-bash">amount:
- amount: &quot;100&quot;
  denom: stake
depositor: cosmos1..
proposal_id: &quot;1&quot;
</code></pre>
<h6 id="deposits">deposits</h6>
<p>deposits命令允許用戶查詢給定提案的所有存款。</p>
<pre><code class="language-bash">stcd query gov deposits [proposal-id] [flags]
</code></pre>
<p>範例:</p>
<pre><code class="language-bash">stcd query gov deposits 1
</code></pre>
<p>範例輸出:</p>
<pre><code class="language-bash">deposits:
- amount:
  - amount: &quot;100&quot;
    denom: stake
  depositor: cosmos1..
  proposal_id: &quot;1&quot;
pagination:
  next_key: null
  total: &quot;0&quot;
</code></pre>
<h6 id="param">param</h6>
<p>param命令允許用戶查詢gov模組的給定參數。</p>
<pre><code class="language-bash">stcd query gov param [param-type] [flags]
</code></pre>
<p>範例:</p>
<pre><code class="language-bash">stcd query gov param voting
</code></pre>
<p>範例輸出:</p>
<pre><code class="language-bash">voting_period: &quot;172800000000000&quot;
</code></pre>
<h6 id="params">params</h6>
<p><code>params</code>命令允許用戶查詢gov模組的所有參數。</p>
<pre><code class="language-bash">stcd query gov params [flags]
</code></pre>
<p>範例:</p>
<pre><code class="language-bash">stcd query gov params
</code></pre>
<p>範例輸出:</p>
<pre><code class="language-bash">deposit_params:
  max_deposit_period: &quot;172800000000000&quot;
  min_deposit:
  - amount: &quot;10000000&quot;
    denom: stake
tally_params:
  quorum: &quot;0.334000000000000000&quot;
  threshold: &quot;0.500000000000000000&quot;
  veto_threshold: &quot;0.334000000000000000&quot;
voting_params:
  voting_period: &quot;172800000000000&quot;
</code></pre>
<h6 id="proposal">proposal</h6>
<p><code>proposal</code>命令允許用戶查詢給定的提案。</p>
<pre><code class="language-bash">stcd query gov proposal [proposal-id] [flags]
</code></pre>
<p>範例:</p>
<pre><code class="language-bash">stcd query gov proposal 1
</code></pre>
<p>範例輸出:</p>
<pre><code class="language-bash">content:
  '@type': /cosmos.gov.v1beta1.TextProposal
  description: testing, testing, 1, 2, 3
  title: Test Proposal
deposit_end_time: &quot;2021-09-17T23:36:18.254995423Z&quot;
final_tally_result:
  abstain: &quot;0&quot;
  &quot;no&quot;: &quot;0&quot;
  no_with_veto: &quot;0&quot;
  &quot;yes&quot;: &quot;0&quot;
proposal_id: &quot;1&quot;
status: PROPOSAL_STATUS_DEPOSIT_PERIOD
submit_time: &quot;2021-09-15T23:36:18.254995423Z&quot;
total_deposit:
- amount: &quot;100&quot;
  denom: stake
voting_end_time: &quot;0001-01-01T00:00:00Z&quot;
voting_start_time: &quot;0001-01-01T00:00:00Z&quot;
</code></pre>
<h6 id="proposals_1">proposals</h6>
<p><code>proposals</code>命令允許用戶使用可選篩選器查詢所有提案。</p>
<pre><code class="language-bash">stcd query gov proposals [flags]
</code></pre>
<p>範例:</p>
<pre><code class="language-bash">stcd query gov proposals
</code></pre>
<p>範例輸出:</p>
<pre><code class="language-bash">pagination:
  next_key: null
  total: &quot;1&quot;
proposals:
- content:
    '@type': /cosmos.gov.v1beta1.TextProposal
    description: testing, testing, 1, 2, 3
    title: Test Proposal
  deposit_end_time: &quot;2021-09-17T23:36:18.254995423Z&quot;
  final_tally_result:
    abstain: &quot;0&quot;
    &quot;no&quot;: &quot;0&quot;
    no_with_veto: &quot;0&quot;
    &quot;yes&quot;: &quot;0&quot;
  proposal_id: &quot;1&quot;
  status: PROPOSAL_STATUS_DEPOSIT_PERIOD
  submit_time: &quot;2021-09-15T23:36:18.254995423Z&quot;
  total_deposit:
  - amount: &quot;100&quot;
    denom: stake
  voting_end_time: &quot;0001-01-01T00:00:00Z&quot;
  voting_start_time: &quot;0001-01-01T00:00:00Z&quot;
</code></pre>
<h6 id="proposer">proposer</h6>
<p><code>proposer</code>命令允許用戶查詢給定提案的提議人。</p>
<pre><code class="language-bash">stcd query gov proposer [proposal-id] [flags]
</code></pre>
<p>範例:</p>
<pre><code class="language-bash">simd query gov proposer 1
</code></pre>
<p>範例輸出:</p>
<pre><code class="language-bash">proposal_id: &quot;1&quot;
proposer: cosmos1r0tllwu5c9dtgwg3wr28lpvf76hg85f5zmh9l2
</code></pre>
<h6 id="tally">tally</h6>
<p><code>tally</code>命令允許用戶查詢給定提案投票的統計結果。</p>
<pre><code class="language-bash">stcd query gov tally [proposal-id] [flags]
</code></pre>
<p>範例:</p>
<pre><code class="language-bash">simd query gov tally 1
</code></pre>
<p>範例輸出:</p>
<pre><code class="language-bash">abstain: &quot;0&quot;
&quot;no&quot;: &quot;0&quot;
no_with_veto: &quot;0&quot;
&quot;yes&quot;: &quot;1&quot;
</code></pre>
<h6 id="vote_1">vote</h6>
<p><code>vote</code>命令允許用戶查詢給定提案的投票情況。</p>
<pre><code class="language-bash">stcd query gov vote [proposal-id] [voter-addr] [flags]
</code></pre>
<p>範例:</p>
<pre><code class="language-bash">simd query gov vote 1 cosmos1..
</code></pre>
<p>範例輸出:</p>
<pre><code class="language-bash">option: VOTE_OPTION_YES
options:
- option: VOTE_OPTION_YES
  weight: &quot;1.000000000000000000&quot;
proposal_id: &quot;1&quot;
voter: cosmos1..
</code></pre>
<h6 id="votes">votes</h6>
<p><code>votes</code>命令允許用戶查詢給定提案的所有投票情況。</p>
<pre><code class="language-bash">stcd query gov votes [proposal-id] [flags]
</code></pre>
<p>範例:</p>
<pre><code class="language-bash">simd query gov votes 1
</code></pre>
<p>範例輸出:</p>
<pre><code class="language-bash">pagination:
  next_key: null
  total: &quot;0&quot;
votes:
- option: VOTE_OPTION_YES
  options:
  - option: VOTE_OPTION_YES
    weight: &quot;1.000000000000000000&quot;
  proposal_id: &quot;1&quot;
  voter: cosmos1r0tllwu5c9dtgwg3wr28lpvf76hg85f5zmh9l2
</code></pre>
<h5 id="_33">交易</h5>
<p>tx命令允許用戶與gov模塊進行交互。</p>
<pre><code class="language-bash">stcd tx gov --help
</code></pre>
<h6 id="deposit_1">deposit</h6>
<p>deposit命令允許用戶為給定的提案存入代幣。</p>
<pre><code class="language-bash">stcd tx gov deposit [proposal-id] [deposit] [flags]
</code></pre>
<p>範例:</p>
<pre><code class="language-bash">stcd tx gov deposit 1 10000000stake --from cosmos1..
</code></pre>
<h6 id="submit-proposal">submit-proposal</h6>
<p>The <code>submit-proposal</code> command allows users to submit a governance proposal and to optionally include an initial deposit.</p>
<pre><code class="language-bash">simd tx gov submit-proposal [command] [flags]
</code></pre>
<p>範例:</p>
<pre><code class="language-bash">stcd tx gov submit-proposal --title=&quot;Test Proposal&quot; --description=&quot;testing, testing, 1, 2, 3&quot; --type=&quot;Text&quot; --deposit=&quot;10000000stake&quot; --from cosmos1..
</code></pre>
<p>範例 (<code>cancel-software-upgrade</code>):</p>
<pre><code class="language-bash">stcd tx gov submit-proposal cancel-software-upgrade --title=&quot;Test Proposal&quot; --description=&quot;testing, testing, 1, 2, 3&quot; --deposit=&quot;10000000stake&quot; --from cosmos1..
</code></pre>
<p>Example (<code>community-pool-spend</code>):</p>
<pre><code class="language-bash">stcd tx gov submit-proposal community-pool-spend proposal.json --from cosmos1..
</code></pre>
<pre><code class="language-json">{
  &quot;title&quot;: &quot;Test Proposal&quot;,
  &quot;description&quot;: &quot;testing, testing, 1, 2, 3&quot;,
  &quot;recipient&quot;: &quot;cosmos1..&quot;,
  &quot;amount&quot;: &quot;10000000stake&quot;,
  &quot;deposit&quot;: &quot;10000000stake&quot;
}
</code></pre>
<p>範例 (<code>param-change</code>):</p>
<pre><code class="language-bash">stcd tx gov submit-proposal param-change proposal.json --from cosmos1..
</code></pre>
<pre><code class="language-json">{
  &quot;title&quot;: &quot;Test Proposal&quot;,
  &quot;description&quot;: &quot;testing, testing, 1, 2, 3&quot;,
  &quot;changes&quot;: [
    {
      &quot;subspace&quot;: &quot;staking&quot;,
      &quot;key&quot;: &quot;MaxValidators&quot;,
      &quot;value&quot;: 100
    }
  ],
  &quot;deposit&quot;: &quot;10000000stake&quot;
}
</code></pre>
<p>範例 (<code>software-upgrade</code>):</p>
<pre><code class="language-bash">stcd tx gov submit-proposal software-upgrade v2 --title=&quot;Test Proposal&quot; --description=&quot;testing, testing, 1, 2, 3&quot; --upgrade-height 1000000 --from cosmos1..
</code></pre>
<h6 id="vote_2">vote</h6>
<p><code>vote</code>命令允許用戶提交對給定治理提案的投票。</p>
<pre><code class="language-bash">stcd tx gov vote [command] [flags]
</code></pre>
<p>範例:</p>
<pre><code class="language-bash">stcd tx gov vote 1 yes --from cosmos1..
</code></pre>
<h4 id="grpc">gRPC</h4>
<p>用戶可以使用gRPC端點查詢gov模塊。</p>
<h5 id="proposal_1">Proposal</h5>
<p><code>Proposal</code>端點允許用戶查詢給定的提案。</p>
<pre><code class="language-bash">cosmos.gov.v1beta1.Query/Proposal
</code></pre>
<p>範例:</p>
<pre><code class="language-bash">grpcurl -plaintext \
    -d '{&quot;proposal_id&quot;:&quot;1&quot;}' \
    localhost:9090 \
    cosmos.gov.v1beta1.Query/Proposal
</code></pre>
<p>範例輸出:</p>
<pre><code class="language-bash">{
  &quot;proposal&quot;: {
    &quot;proposalId&quot;: &quot;1&quot;,
    &quot;content&quot;: {&quot;@type&quot;:&quot;/cosmos.gov.v1beta1.TextProposal&quot;,&quot;description&quot;:&quot;testing, testing, 1, 2, 3&quot;,&quot;title&quot;:&quot;Test Proposal&quot;},
    &quot;status&quot;: &quot;PROPOSAL_STATUS_VOTING_PERIOD&quot;,
    &quot;finalTallyResult&quot;: {
      &quot;yes&quot;: &quot;0&quot;,
      &quot;abstain&quot;: &quot;0&quot;,
      &quot;no&quot;: &quot;0&quot;,
      &quot;noWithVeto&quot;: &quot;0&quot;
    },
    &quot;submitTime&quot;: &quot;2021-09-16T19:40:08.712440474Z&quot;,
    &quot;depositEndTime&quot;: &quot;2021-09-18T19:40:08.712440474Z&quot;,
    &quot;totalDeposit&quot;: [
      {
        &quot;denom&quot;: &quot;stake&quot;,
        &quot;amount&quot;: &quot;10000000&quot;
      }
    ],
    &quot;votingStartTime&quot;: &quot;2021-09-16T19:40:08.712440474Z&quot;,
    &quot;votingEndTime&quot;: &quot;2021-09-18T19:40:08.712440474Z&quot;
  }
}
</code></pre>
<h5 id="proposals_2">Proposals</h5>
<p><code>Proposals</code>端點允許用戶使用可選過濾器查詢所有提案。</p>
<pre><code class="language-bash">cosmos.gov.v1beta1.Query/Proposals
</code></pre>
<p>範例:</p>
<pre><code class="language-bash">grpcurl -plaintext \
    localhost:9090 \
    cosmos.gov.v1beta1.Query/Proposals
</code></pre>
<p>範例輸出:</p>
<pre><code class="language-bash">{
  &quot;proposals&quot;: [
    {
      &quot;proposalId&quot;: &quot;1&quot;,
      &quot;content&quot;: {&quot;@type&quot;:&quot;/cosmos.gov.v1beta1.TextProposal&quot;,&quot;description&quot;:&quot;testing, testing, 1, 2, 3&quot;,&quot;title&quot;:&quot;Test Proposal&quot;},
      &quot;status&quot;: &quot;PROPOSAL_STATUS_VOTING_PERIOD&quot;,
      &quot;finalTallyResult&quot;: {
        &quot;yes&quot;: &quot;0&quot;,
        &quot;abstain&quot;: &quot;0&quot;,
        &quot;no&quot;: &quot;0&quot;,
        &quot;noWithVeto&quot;: &quot;0&quot;
      },
      &quot;submitTime&quot;: &quot;2021-09-16T19:40:08.712440474Z&quot;,
      &quot;depositEndTime&quot;: &quot;2021-09-18T19:40:08.712440474Z&quot;,
      &quot;totalDeposit&quot;: [
        {
          &quot;denom&quot;: &quot;stake&quot;,
          &quot;amount&quot;: &quot;10000000&quot;
        }
      ],
      &quot;votingStartTime&quot;: &quot;2021-09-16T19:40:08.712440474Z&quot;,
      &quot;votingEndTime&quot;: &quot;2021-09-18T19:40:08.712440474Z&quot;
    },
    {
      &quot;proposalId&quot;: &quot;2&quot;,
      &quot;content&quot;: {&quot;@type&quot;:&quot;/cosmos.upgrade.v1beta1.CancelSoftwareUpgradeProposal&quot;,&quot;description&quot;:&quot;Test Proposal&quot;,&quot;title&quot;:&quot;testing, testing, 1, 2, 3&quot;},
      &quot;status&quot;: &quot;PROPOSAL_STATUS_DEPOSIT_PERIOD&quot;,
      &quot;finalTallyResult&quot;: {
        &quot;yes&quot;: &quot;0&quot;,
        &quot;abstain&quot;: &quot;0&quot;,
        &quot;no&quot;: &quot;0&quot;,
        &quot;noWithVeto&quot;: &quot;0&quot;
      },
      &quot;submitTime&quot;: &quot;2021-09-17T18:26:57.866854713Z&quot;,
      &quot;depositEndTime&quot;: &quot;2021-09-19T18:26:57.866854713Z&quot;,
      &quot;votingStartTime&quot;: &quot;0001-01-01T00:00:00Z&quot;,
      &quot;votingEndTime&quot;: &quot;0001-01-01T00:00:00Z&quot;
    }
  ],
  &quot;pagination&quot;: {
    &quot;total&quot;: &quot;2&quot;
  }
}
</code></pre>
<h5 id="vote_3">Vote</h5>
<p><code>Vote</code>端點允許用戶查詢給定提案的投票。</p>
<pre><code class="language-bash">cosmos.gov.v1beta1.Query/Vote
</code></pre>
<p>Example:</p>
<pre><code class="language-bash">grpcurl -plaintext \
    -d '{&quot;proposal_id&quot;:&quot;1&quot;,&quot;voter&quot;:&quot;cosmos1..&quot;}' \
    localhost:9090 \
    cosmos.gov.v1beta1.Query/Vote
</code></pre>
<p>範例輸出:</p>
<pre><code class="language-bash">{
  &quot;vote&quot;: {
    &quot;proposalId&quot;: &quot;1&quot;,
    &quot;voter&quot;: &quot;cosmos1..&quot;,
    &quot;option&quot;: &quot;VOTE_OPTION_YES&quot;,
    &quot;options&quot;: [
      {
        &quot;option&quot;: &quot;VOTE_OPTION_YES&quot;,
        &quot;weight&quot;: &quot;1000000000000000000&quot;
      }
    ]
  }
}
</code></pre>
<h5 id="votes_1">Votes</h5>
<p>The <code>Votes</code> endpoint allows users to query all votes for a given proposal.</p>
<pre><code class="language-bash">cosmos.gov.v1beta1.Query/Votes
</code></pre>
<p>Example:</p>
<pre><code class="language-bash">grpcurl -plaintext \
    -d '{&quot;proposal_id&quot;:&quot;1&quot;}' \
    localhost:9090 \
    cosmos.gov.v1beta1.Query/Votes
</code></pre>
<p>範例輸出:</p>
<pre><code class="language-bash">{
  &quot;votes&quot;: [
    {
      &quot;proposalId&quot;: &quot;1&quot;,
      &quot;voter&quot;: &quot;cosmos1..&quot;,
      &quot;option&quot;: &quot;VOTE_OPTION_YES&quot;,
      &quot;options&quot;: [
        {
          &quot;option&quot;: &quot;VOTE_OPTION_YES&quot;,
          &quot;weight&quot;: &quot;1000000000000000000&quot;
        }
      ]
    }
  ],
  &quot;pagination&quot;: {
    &quot;total&quot;: &quot;1&quot;
  }
}
</code></pre>
<h5 id="params_1">Params</h5>
<p>Params端點允許用戶查詢gov模塊的所有參數。</p>
<!-- TODO: #10197 查詢治理參數輸出為nil值 -->

<pre><code class="language-bash">cosmos.gov.v1beta1.Query/Params
</code></pre>
<p>範例:</p>
<pre><code class="language-bash">grpcurl -plaintext \
    -d '{&quot;params_type&quot;:&quot;voting&quot;}' \
    localhost:9090 \
    cosmos.gov.v1beta1.Query/Params
</code></pre>
<p>範例輸出:</p>
<pre><code class="language-bash">{
  &quot;votingParams&quot;: {
    &quot;votingPeriod&quot;: &quot;172800s&quot;
  },
  &quot;depositParams&quot;: {
    &quot;maxDepositPeriod&quot;: &quot;0s&quot;
  },
  &quot;tallyParams&quot;: {
    &quot;quorum&quot;: &quot;MA==&quot;,
    &quot;threshold&quot;: &quot;MA==&quot;,
    &quot;vetoThreshold&quot;: &quot;MA==&quot;
  }
}
</code></pre>
<h5 id="deposit_2">Deposit</h5>
<p>Deposit端點允許用戶查詢給定提案的存款，該存款來自特定的存款人。</p>
<pre><code class="language-bash">cosmos.gov.v1beta1.Query/Deposit
</code></pre>
<p>範例:</p>
<pre><code class="language-bash">grpcurl -plaintext \
    '{&quot;proposal_id&quot;:&quot;1&quot;,&quot;depositor&quot;:&quot;cosmos1..&quot;}' \
    localhost:9090 \
    cosmos.gov.v1beta1.Query/Deposit
</code></pre>
<p>範例輸出:</p>
<pre><code class="language-bash">{
  &quot;deposit&quot;: {
    &quot;proposalId&quot;: &quot;1&quot;,
    &quot;depositor&quot;: &quot;cosmos1..&quot;,
    &quot;amount&quot;: [
      {
        &quot;denom&quot;: &quot;stake&quot;,
        &quot;amount&quot;: &quot;10000000&quot;
      }
    ]
  }
}
</code></pre>
<h5 id="deposits_1">deposits</h5>
<p>Deposits端點允許用戶查詢給定提案的所有存款。</p>
<pre><code class="language-bash">cosmos.gov.v1beta1.Query/Deposits
</code></pre>
<p>範例:</p>
<pre><code class="language-bash">grpcurl -plaintext \
    -d '{&quot;proposal_id&quot;:&quot;1&quot;}' \
    localhost:9090 \
    cosmos.gov.v1beta1.Query/Deposits
</code></pre>
<p>範例輸出:</p>
<pre><code class="language-bash">{
  &quot;deposits&quot;: [
    {
      &quot;proposalId&quot;: &quot;1&quot;,
      &quot;depositor&quot;: &quot;cosmos1..&quot;,
      &quot;amount&quot;: [
        {
          &quot;denom&quot;: &quot;stake&quot;,
          &quot;amount&quot;: &quot;10000000&quot;
        }
      ]
    }
  ],
  &quot;pagination&quot;: {
    &quot;total&quot;: &quot;1&quot;
  }
}
</code></pre>
<h5 id="tallyresult">TallyResult</h5>
<p><code>TallyResult</code>端點允許用戶查詢給定提案的統計結果。</p>
<pre><code class="language-bash">cosmos.gov.v1beta1.Query/TallyResult
</code></pre>
<p>Example:</p>
<pre><code class="language-bash">grpcurl -plaintext \
    -d '{&quot;proposal_id&quot;:&quot;1&quot;}' \
    localhost:9090 \
    cosmos.gov.v1beta1.Query/TallyResult
</code></pre>
<p>範例輸出:</p>
<pre><code class="language-bash">{
  &quot;tally&quot;: {
    &quot;yes&quot;: &quot;1000000&quot;,
    &quot;abstain&quot;: &quot;0&quot;,
    &quot;no&quot;: &quot;0&quot;,
    &quot;noWithVeto&quot;: &quot;0&quot;
  }
}
</code></pre>
<h4 id="rest">REST</h4>
<p>用戶可以使用REST端點查詢gov模塊。</p>
<h5 id="proposal_2">proposal</h5>
<p><code>proposals</code>端點允許用戶查詢給定的提案。</p>
<pre><code class="language-bash">/cosmos/gov/v1beta1/proposals/{proposal_id}
</code></pre>
<p>範例:</p>
<pre><code class="language-bash">curl localhost:1317/cosmos/gov/v1beta1/proposals/1
</code></pre>
<p>範例輸出:</p>
<pre><code class="language-bash">{
  &quot;proposal&quot;: {
    &quot;proposal_id&quot;: &quot;1&quot;,
    &quot;content&quot;: {
      &quot;@type&quot;: &quot;/cosmos.gov.v1beta1.TextProposal&quot;,
      &quot;title&quot;: &quot;Test Proposal&quot;,
      &quot;description&quot;: &quot;testing, testing, 1, 2, 3&quot;
    },
    &quot;status&quot;: &quot;PROPOSAL_STATUS_VOTING_PERIOD&quot;,
    &quot;final_tally_result&quot;: {
      &quot;yes&quot;: &quot;0&quot;,
      &quot;abstain&quot;: &quot;0&quot;,
      &quot;no&quot;: &quot;0&quot;,
      &quot;no_with_veto&quot;: &quot;0&quot;
    },
    &quot;submit_time&quot;: &quot;2021-09-16T19:40:08.712440474Z&quot;,
    &quot;deposit_end_time&quot;: &quot;2021-09-18T19:40:08.712440474Z&quot;,
    &quot;total_deposit&quot;: [
      {
        &quot;denom&quot;: &quot;stake&quot;,
        &quot;amount&quot;: &quot;10000000&quot;
      }
    ],
    &quot;voting_start_time&quot;: &quot;2021-09-16T19:40:08.712440474Z&quot;,
    &quot;voting_end_time&quot;: &quot;2021-09-18T19:40:08.712440474Z&quot;
  }
}
</code></pre>
<h5 id="proposals_3">proposals</h5>
<p><code>proposals</code>端點還允許用戶使用可選過濾器查詢所有提案。</p>
<pre><code class="language-bash">/cosmos/gov/v1beta1/proposals
</code></pre>
<p>範例:</p>
<pre><code class="language-bash">curl localhost:1317/cosmos/gov/v1beta1/proposals
</code></pre>
<p>範例輸出:</p>
<pre><code class="language-bash">{
  &quot;proposals&quot;: [
    {
      &quot;proposal_id&quot;: &quot;1&quot;,
      &quot;content&quot;: {
        &quot;@type&quot;: &quot;/cosmos.gov.v1beta1.TextProposal&quot;,
        &quot;title&quot;: &quot;Test Proposal&quot;,
        &quot;description&quot;: &quot;testing, testing, 1, 2, 3&quot;
      },
      &quot;status&quot;: &quot;PROPOSAL_STATUS_VOTING_PERIOD&quot;,
      &quot;final_tally_result&quot;: {
        &quot;yes&quot;: &quot;0&quot;,
        &quot;abstain&quot;: &quot;0&quot;,
        &quot;no&quot;: &quot;0&quot;,
        &quot;no_with_veto&quot;: &quot;0&quot;
      },
      &quot;submit_time&quot;: &quot;2021-09-16T19:40:08.712440474Z&quot;,
      &quot;deposit_end_time&quot;: &quot;2021-09-18T19:40:08.712440474Z&quot;,
      &quot;total_deposit&quot;: [
        {
          &quot;denom&quot;: &quot;stake&quot;,
          &quot;amount&quot;: &quot;10000000&quot;
        }
      ],
      &quot;voting_start_time&quot;: &quot;2021-09-16T19:40:08.712440474Z&quot;,
      &quot;voting_end_time&quot;: &quot;2021-09-18T19:40:08.712440474Z&quot;
    },
    {
      &quot;proposal_id&quot;: &quot;2&quot;,
      &quot;content&quot;: {
        &quot;@type&quot;: &quot;/cosmos.upgrade.v1beta1.CancelSoftwareUpgradeProposal&quot;,
        &quot;title&quot;: &quot;Test Proposal&quot;,
        &quot;description&quot;: &quot;testing, testing, 1, 2, 3&quot;
      },
      &quot;status&quot;: &quot;PROPOSAL_STATUS_DEPOSIT_PERIOD&quot;,
      &quot;final_tally_result&quot;: {
        &quot;yes&quot;: &quot;0&quot;,
        &quot;abstain&quot;: &quot;0&quot;,
        &quot;no&quot;: &quot;0&quot;,
        &quot;no_with_veto&quot;: &quot;0&quot;
      },
      &quot;submit_time&quot;: &quot;2021-09-17T18:26:57.866854713Z&quot;,
      &quot;deposit_end_time&quot;: &quot;2021-09-19T18:26:57.866854713Z&quot;,
      &quot;total_deposit&quot;: [
      ],
      &quot;voting_start_time&quot;: &quot;0001-01-01T00:00:00Z&quot;,
      &quot;voting_end_time&quot;: &quot;0001-01-01T00:00:00Z&quot;
    }
  ],
  &quot;pagination&quot;: {
    &quot;next_key&quot;: null,
    &quot;total&quot;: &quot;2&quot;
  }
}
</code></pre>
<h5 id="voter-vote">voter vote</h5>
<p><code>votes</code>端點允許用戶查詢給定提案的投票。</p>
<pre><code class="language-bash">/cosmos/gov/v1beta1/proposals/{proposal_id}/votes/{voter}
</code></pre>
<p>範例:</p>
<pre><code class="language-bash">curl localhost:1317/cosmos/gov/v1beta1/proposals/1/votes/cosmos1..
</code></pre>
<p>範例輸出:</p>
<pre><code class="language-bash">{
  &quot;vote&quot;: {
    &quot;proposal_id&quot;: &quot;1&quot;,
    &quot;voter&quot;: &quot;cosmos1..&quot;,
    &quot;option&quot;: &quot;VOTE_OPTION_YES&quot;,
    &quot;options&quot;: [
      {
        &quot;option&quot;: &quot;VOTE_OPTION_YES&quot;,
        &quot;weight&quot;: &quot;1.000000000000000000&quot;
      }
    ]
  }
}
</code></pre>
<h5 id="votes_2">votes</h5>
<p><code>votes</code>端點允許用戶查詢給定提案的所有投票。</p>
<pre><code class="language-bash">/cosmos/gov/v1beta1/proposals/{proposal_id}/votes
</code></pre>
<p>範例:</p>
<pre><code class="language-bash">curl localhost:1317/cosmos/gov/v1beta1/proposals/1/votes
</code></pre>
<p>範例輸出:</p>
<pre><code class="language-bash">{
  &quot;votes&quot;: [
    {
      &quot;proposal_id&quot;: &quot;1&quot;,
      &quot;voter&quot;: &quot;cosmos1..&quot;,
      &quot;option&quot;: &quot;VOTE_OPTION_YES&quot;,
      &quot;options&quot;: [
        {
          &quot;option&quot;: &quot;VOTE_OPTION_YES&quot;,
          &quot;weight&quot;: &quot;1.000000000000000000&quot;
        }
      ]
    }
  ],
  &quot;pagination&quot;: {
    &quot;next_key&quot;: null,
    &quot;total&quot;: &quot;1&quot;
  }
}
</code></pre>
<h5 id="params_2">params</h5>
<p><code>params</code>端點允許用戶查詢gov模塊的所有參數。</p>
<!-- TODO: #10197 查詢治理參數返回空值 -->

<pre><code class="language-bash">/cosmos/gov/v1beta1/params/{params_type}
</code></pre>
<p>範例:</p>
<pre><code class="language-bash">curl localhost:1317/cosmos/gov/v1beta1/params/voting
</code></pre>
<p>範例輸出:</p>
<pre><code class="language-bash">{
  &quot;voting_params&quot;: {
    &quot;voting_period&quot;: &quot;172800s&quot;
  },
  &quot;deposit_params&quot;: {
    &quot;min_deposit&quot;: [
    ],
    &quot;max_deposit_period&quot;: &quot;0s&quot;
  },
  &quot;tally_params&quot;: {
    &quot;quorum&quot;: &quot;0.000000000000000000&quot;,
    &quot;threshold&quot;: &quot;0.000000000000000000&quot;,
    &quot;veto_threshold&quot;: &quot;0.000000000000000000&quot;
  }
}
</code></pre>
<h5 id="deposits_2">deposits</h5>
<p>deposits端點允許用戶查詢來自給定存款人的給定提案的存款。</p>
<pre><code class="language-bash">/cosmos/gov/v1beta1/proposals/{proposal_id}/deposits/{depositor}
</code></pre>
<p>範例:</p>
<pre><code class="language-bash">curl localhost:1317/cosmos/gov/v1beta1/proposals/1/deposits/cosmos1..
</code></pre>
<p>範例輸出:</p>
<pre><code class="language-bash">{
  &quot;deposit&quot;: {
    &quot;proposal_id&quot;: &quot;1&quot;,
    &quot;depositor&quot;: &quot;cosmos1..&quot;,
    &quot;amount&quot;: [
      {
        &quot;denom&quot;: &quot;stake&quot;,
        &quot;amount&quot;: &quot;10000000&quot;
      }
    ]
  }
}
</code></pre>
<h5 id="proposal-deposits">proposal deposits</h5>
<p><code>deposits</code>端點允許用戶查詢給定提案的所有存款。</p>
<pre><code class="language-bash">/cosmos/gov/v1beta1/proposals/{proposal_id}/deposits
</code></pre>
<p>範例:</p>
<pre><code class="language-bash">curl localhost:1317/cosmos/gov/v1beta1/proposals/1/deposits
</code></pre>
<p>範例輸出:</p>
<pre><code class="language-bash">{
  &quot;deposits&quot;: [
    {
      &quot;proposal_id&quot;: &quot;1&quot;,
      &quot;depositor&quot;: &quot;cosmos1..&quot;,
      &quot;amount&quot;: [
        {
          &quot;denom&quot;: &quot;stake&quot;,
          &quot;amount&quot;: &quot;10000000&quot;
        }
      ]
    }
  ],
  &quot;pagination&quot;: {
    &quot;next_key&quot;: null,
    &quot;total&quot;: &quot;1&quot;
  }
}
</code></pre>
<h5 id="tally_1">tally</h5>
<p><code>tally</code>端點允許用戶查詢給定提案的統計結果。</p>
<pre><code class="language-bash">/cosmos/gov/v1beta1/proposals/{proposal_id}/tally
</code></pre>
<p>範例:</p>
<pre><code class="language-bash">curl localhost:1317/cosmos/gov/v1beta1/proposals/1/tally
</code></pre>
<p>範例輸出:</p>
<pre><code class="language-bash">{
  &quot;tally&quot;: {
    &quot;yes&quot;: &quot;1000000&quot;,
    &quot;abstain&quot;: &quot;0&quot;,
    &quot;no&quot;: &quot;0&quot;,
    &quot;no_with_veto&quot;: &quot;0&quot;
  }
}
</code></pre>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs"], "search": "../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.94c44541.min.js"></script>
      
    
  </body>
</html>